<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brasigotchi - Seu Tamagotchi Brasileiro</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2ecc71;
            --primary-dark: #27ae60;
            --secondary: #e74c3c;
            --accent: #f39c12;
            --bg: #1a1a2e;
            --card-bg: #16213e;
            --text: #eee;
            --text-muted: #aaa;
            --screen-bg: #9bbc0f;
            --screen-dark: #0f380f;
            --shell-pink: #ff6b9d;
            --shell-dark: #c94a7a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Fredoka', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(46, 204, 113, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 20% 80%, rgba(255, 107, 157, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 20%, rgba(243, 156, 18, 0.1) 0%, transparent 40%);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 5px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            text-shadow: 0 0 30px rgba(46, 204, 113, 0.3);
        }

        .subtitle { color: var(--text-muted); margin-bottom: 25px; font-size: 0.9rem; }

        /* Tamagotchi Shell - O corpo do dispositivo */
        .tamagotchi-shell {
            background: linear-gradient(145deg, var(--shell-pink), var(--shell-dark));
            border-radius: 50% 50% 45% 45%;
            padding: 30px;
            box-shadow: 
                0 20px 60px rgba(0,0,0,0.4),
                inset 0 -5px 20px rgba(0,0,0,0.2),
                inset 0 5px 20px rgba(255,255,255,0.2);
            position: relative;
            width: 320px;
            height: 380px;
        }

        /* Bot√µes do Tamagotchi */
        .tamagotchi-buttons {
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .shell-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(145deg, #ff8fab, #e85a8a);
            box-shadow: 
                0 4px 8px rgba(0,0,0,0.3),
                inset 0 2px 4px rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.1s;
        }

        .shell-btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .shell-btn.green { background: linear-gradient(145deg, #2ecc71, #27ae60); }
        .shell-btn.red { background: linear-gradient(145deg, #e74c3c, #c0392b); }
        .shell-btn.yellow { background: linear-gradient(145deg, #f1c40f, #d4ac0d); }

        /* Tela do Tamagotchi */
        .screen {
            background: var(--screen-bg);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 
                inset 0 3px 10px rgba(0,0,0,0.2),
                0 2px 4px rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
            min-height: 280px;
        }

        .screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 30%;
            background: linear-gradient(180deg, rgba(255,255,255,0.15) 0%, transparent 100%);
            pointer-events: none;
            border-radius: 20px 20px 0 0;
        }

        /* Estado info */
        .state-info {
            text-align: center;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .state-name { 
            font-size: 1rem; 
            font-weight: 700; 
            color: var(--screen-dark);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .state-uf { 
            font-size: 0.75rem; 
            color: var(--screen-dark);
            opacity: 0.7;
        }

        .age { 
            font-family: 'Press Start 2P', cursive;
            font-size: 0.5rem;
            color: var(--screen-dark);
            margin-top: 5px;
        }

        /* O Brasigotchi - O personagem */
        .brasigotchi-character {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 10px 0;
        }

        .character-container {
            position: relative;
            width: 150px;
            height: 150px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .character-container.sleeping {
            animation: breathe 2s ease-in-out infinite;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Estado SVG */
        .state-shape {
            width: 120px;
            height: 120px;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
            animation: wobble 4s ease-in-out infinite;
        }

        @keyframes wobble {
            0%, 100% { transform: rotate(-2deg); }
            50% { transform: rotate(2deg); }
        }

        /* Olhos */
        .eyes {
            position: absolute;
            top: 35%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 25px;
        }

        .eye {
            width: 18px;
            height: 18px;
            background: var(--screen-dark);
            border-radius: 50%;
            position: relative;
            animation: blink 4s infinite;
        }

        .eye::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
        }

        .eye.closed {
            height: 3px;
            top: 8px;
            animation: blink 4s infinite;
        }

        @keyframes blink {
            0%, 45%, 55%, 100% { height: 18px; top: 0; }
            50% { height: 3px; top: 8px; }
        }

        /* Boca */
        .mouth {
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translateX(-50%);
        }

        .mouth.happy {
            width: 20px;
            height: 10px;
            border: 3px solid var(--screen-dark);
            border-top: none;
            border-radius: 0 0 20px 20px;
            background: transparent;
        }

        .mouth.sad {
            width: 20px;
            height: 10px;
            border: 3px solid var(--screen-dark);
            border-bottom: none;
            border-radius: 20px 20px 0 0;
            background: transparent;
            margin-top: 5px;
        }

        .mouth.neutral {
            width: 15px;
            height: 3px;
            background: var(--screen-dark);
            border-radius: 2px;
        }

        .mouth.open {
            width: 15px;
            height: 15px;
            background: var(--screen-dark);
            border-radius: 50%;
        }

        /* Bochechas */
        .cheeks {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            display: flex;
            justify-content: space-between;
            pointer-events: none;
        }

        .cheek {
            width: 15px;
            height: 8px;
            background: rgba(255, 150, 150, 0.6);
            border-radius: 50%;
        }

        /* Texto/bal√£o */
        .speech-bubble {
            background: white;
            color: var(--screen-dark);
            padding: 8px 12px;
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 600;
            text-align: center;
            max-width: 180px;
            margin: 10px auto 0;
            position: relative;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            animation: popIn 0.3s ease;
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            border: 4px solid transparent;
            border-bottom-color: white;
        }

        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Stats */
        .stats-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            position: relative;
            z-index: 1;
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3px;
        }

        .stat-icon { font-size: 0.8rem; }

        .stat-bar {
            width: 35px;
            height: 6px;
            background: rgba(0,0,0,0.15);
            border-radius: 3px;
            overflow: hidden;
        }

        .stat-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .stat-fill.hunger { background: var(--screen-dark); }
        .stat-fill.happiness { background: var(--screen-dark); }
        .stat-fill.energy { background: var(--screen-dark); }

        /* Bot√µes de a√ß√£o na tela */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .action-btn {
            padding: 8px 16px;
            border: 2px solid var(--screen-dark);
            border-radius: 15px;
            background: var(--screen-bg);
            color: var(--screen-dark);
            font-family: 'Press Start 2P', cursive;
            font-size: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: var(--screen-dark);
            color: var(--screen-bg);
        }

        .action-btn:active {
            transform: scale(0.95);
        }

        /* Menu de comida */
        .food-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .food-overlay.show { display: flex; }

        .food-menu {
            background: var(--screen-bg);
            border-radius: 20px;
            padding: 20px;
            max-width: 250px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .food-menu h3 {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            color: var(--screen-dark);
            text-align: center;
            margin-bottom: 15px;
        }

        .food-item {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 2px solid var(--screen-dark);
            border-radius: 10px;
            background: transparent;
            color: var(--screen-dark);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .food-item:hover {
            background: var(--screen-dark);
            color: var(--screen-bg);
        }

        /* Tela inicial sem Brasigotchi */
        .no-brasigotchi {
            text-align: center;
            padding: 20px;
        }

        .no-brasigotchi h2 {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.8rem;
            color: var(--screen-dark);
            margin-bottom: 15px;
        }

        .no-brasigotchi p {
            color: var(--screen-dark);
            font-size: 0.7rem;
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .create-btn {
            padding: 12px 24px;
            border: 3px solid var(--screen-dark);
            border-radius: 25px;
            background: var(--screen-dark);
            color: var(--screen-bg);
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            cursor: pointer;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Footer */
        .footer { margin-top: 30px; color: var(--text-muted); font-size: 0.8rem; text-align: center; }

        /* Menu de a√ß√µes */
        .controls-menu {
            position: absolute;
            left: -80px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        .control-btn:hover { transform: scale(1.1); }
        .control-btn:active { transform: scale(0.95); }
    </style>
</head>
<body>
    <h1>üáßüá∑ Brasigotchi</h1>
    <p class="subtitle">Seu Tamagotchi Brasileiro</p>

    <div class="tamagotchi-shell">
        <!-- Bot√µes do lado direito doshell -->
        <div class="tamagotchi-buttons">
            <button class="shell-btn green" onclick="play()" title="Brincar"></button>
            <button class="shell-btn red" onclick="showFoodMenu()" title="Alimentar"></button>
            <button class="shell-btn yellow" onclick="toggleSleep()" title="Dormir"></button>
        </div>

        <!-- Tela -->
        <div class="screen" id="screen">
            <!-- Conte√∫do ser√° renderizado aqui -->
        </div>
    </div>

    <p class="footer">Cuide bem do seu Brasigotchi! ‚ù§Ô∏è</p>

    <!-- Menu de comida -->
    <div class="food-overlay" id="foodOverlay">
        <div class="food-menu">
            <h3>COMIDA</h3>
            <div id="foodList"></div>
            <button class="food-item" onclick="hideFoodMenu()" style="margin-top:15px;background:var(--screen-dark);color:var(--screen-bg)">‚úñ FECHAR</button>
        </div>
    </div>

    <script>
        const statesData = {
            AC: { name: "Acre", color: "#8B4513", foods: ["Tacac√°", "Pirarucu", "Farofa", "A√ßa√≠"], vocabulary: ["Eita!", "V√¥te!", "Rapadura", "Maneiro!"], svg: `<path d="M30,20 L90,20 L100,40 L110,60 L100,80 L90,100 L70,120 L50,120 L30,100 L20,80 L20,60 L20,40 Z" fill="#8B4513" stroke="#5D2E0C" stroke-width="2"/>` },
            AL: { name: "Alagoas", color: "#E74C3C", foods: ["Sururu", "Macaxeira", "Buchada", "Camar√£o"], vocabulary: ["Vixi!", "Oxente!", "Nego", "Eita!"], svg: `<path d="M40,30 L90,30 L110,50 L110,70 L100,90 L80,110 L60,110 L40,90 L30,70 L30,50 Z" fill="#E74C3C" stroke="#C0392B" stroke-width="2"/>` },
            AM: { name: "Amazonas", color: "#228B22", foods: ["Tucunar√©", "Jaraqui", "Peixe", "Carne"], vocabulary: ["Eita!", "Rapaz!", "Maneiro", "Vixe!"], svg: `<ellipse cx="60" cy="70" rx="50" ry="50" fill="#228B22" stroke="#1B6B1B" stroke-width="2"/>` },
            AP: { name: "Amap√°", color: "#FF6B6B", foods: ["Peixe", "Tacac√°", "Guari√∫ba", "A√ßa√≠"], vocabulary: ["Vixe!", "Nego", "Eita!", "Ui!"], svg: `<path d="M25,45 L95,45 L105,75 L85,105 L45,115 L25,100 L15,75 Z" fill="#FF6B6B" stroke="#E74C3C" stroke-width="2"/>` },
            BA: { name: "Bahia", color: "#F1C40F", foods: ["Moqueca", "Acaraj√©", "Vatap√°", "Bob√≥"], vocabulary: ["Oba!", "Eitaaa!", "Vish!", "√äba!"], svg: `<path d="M30,25 L95,30 L110,55 L110,95 L90,115 L50,120 L20,105 L10,75 L15,45 Z" fill="#F1C40F" stroke="#D4AC0D" stroke-width="2"/>` },
            CE: { name: "Cear√°", color: "#E67E22", foods: ["Carne de sol", "Bai√£o", "Cuscuz", "Sorvete"], vocabulary: ["Oxente!", "Eita!", "Vixe!", "Nego!"], svg: `<path d="M35,30 L90,30 L110,50 L110,80 L100,105 L70,120 L40,120 L20,100 L15,70 L25,40 Z" fill="#E67E22" stroke="#CA6F1E" stroke-width="2"/>` },
            DF: { name: "Distrito Federal", color: "#9B59B6", foods: ["P√£o de queijo", "Empad√£o", "Goiabada", "Pequi"], vocabulary: ["Vixe!", "Poxa!", "Eita!", "Uai!"], svg: `<rect x="20" y="35" width="80" height="70" rx="5" fill="#9B59B6" stroke="#8E44AD" stroke-width="2"/>` },
            ES: { name: "Esp√≠rito Santo", color: "#1ABC9C", foods: ["Moqueca", "Linguado", "Pudim", "Churrasco"], vocabulary: ["Uai!", "Poxa!", "Eita!", "Nossa!"], svg: `<path d="M30,40 L80,35 L100,50 L100,85 L80,105 L45,115 L20,95 L15,70 L25,50 Z" fill="#1ABC9C" stroke="#16A085" stroke-width="2"/>` },
            GO: { name: "Goi√°s", color: "#27AE60", foods: ["Empad√£o", "Goiabada", "P√£o de queijo", "Pequi"], vocabulary: ["Uai!", "S√¥!", "Eita!", "Poxa!"], svg: `<path d="M20,35 L95,30 L115,55 L115,95 L90,120 L40,125 L10,105 L5,70 L12,40 Z" fill="#27AE60" stroke="#1E8449" stroke-width="2"/>` },
            MA: { name: "Maranh√£o", color: "#3498DB", foods: ["Arroz de cux√°", "Peixe", "Caranguejo", "Taieira"], vocabulary: ["Eita!", "Vixe!", "Nego", "Oxente!"], svg: `<path d="M25,30 L100,30 L115,55 L125,90 L105,115 L55,120 L15,110 L5,75 L10,40 Z" fill="#3498DB" stroke="#2980B9" stroke-width="2"/>` },
            MT: { name: "Mato Grosso", color: "#16A085", foods: ["Pequi", "Arroz", "Frango", "Pamonha"], vocabulary: ["Uai!", "Eita!", "S√¥!", "Vixe!"], svg: `<path d="M15,30 L100,25 L120,50 L120,95 L95,120 L45,125 L5,110 L0,70 L8,35 Z" fill="#16A085" stroke="#0E6655" stroke-width="2"/>` },
            MS: { name: "Mato Grosso do Sul", color: "#2ECC71", foods: ["Sopa paraguaia", "Chipa", "Frango", "Doce"], vocabulary: ["Uai!", "Eita!", "Poxa!", "S√¥!"], svg: `<path d="M25,25 L105,25 L120,50 L120,95 L100,120 L55,125 L15,115 L5,80 L12,40 Z" fill="#2ECC71" stroke="#27AE60" stroke-width="2"/>` },
            MG: { name: "Minas Gerais", color: "#8E44AD", foods: ["P√£o de queijo", "Feij√£o tropeiro", "Quiabo", "Goiabada"], vocabulary: ["Uai!", "S√¥!", "Eita!", "Poxa vida!"], svg: `<path d="M30,25 L100,30 L115,55 L115,95 L90,120 L45,125 L15,110 L5,75 L15,40 Z" fill="#8E44AD" stroke="#71368A" stroke-width="2"/>` },
            PA: { name: "Par√°", color: "#D35400", foods: ["Tacac√°", "A√ßa√≠", "Mani√ßoba", "Pirarucu"], vocabulary: ["Vixe!", "Eita!", "Nego", "Ui!"], svg: `<path d="M20,25 L105,25 L120,55 L120,100 L95,120 L40,125 L5,110 L0,70 L8,30 Z" fill="#D35400" stroke="#A04000" stroke-width="2"/>` },
            PB: { name: "Para√≠ba", color: "#C0392B", foods: ["Bai√£o", "Caruru", "Mugunz√°", "Hot dog"], vocabulary: ["Oxente!", "Vixe!", "Nego", "Eita!"], svg: `<path d="M35,35 L95,35 L110,55 L110,80 L100,105 L75,115 L40,115 L20,95 L20,70 L30,45 Z" fill="#C0392B" stroke="#922B21" stroke-width="2"/>` },
            PR: { name: "Paran√°", color: "#2980B9", foods: ["Barreado", "Canjica", "Quent√£o", "Cuca"], vocabulary: ["Eita!", "Vixe!", "Poxa!", "Nossa!"], svg: `<path d="M25,30 L100,30 L115,55 L115,100 L90,120 L45,125 L10,110 L5,70 L12,40 Z" fill="#2980B9" stroke="#1F618D" stroke-width="2"/>` },
            PE: { name: "Pernambuco", color: "#E74C3C", foods: ["Buchada", "Galinha", "Mojito", "Cartola"], vocabulary: ["Eita!", "Vixe!", "Oxente!", "Nego!"], svg: `<path d="M30,30 L90,30 L105,50 L110,80 L100,110 L70,115 L35,115 L15,95 L15,65 L25,40 Z" fill="#E74C3C" stroke="#C0392B" stroke-width="2"/>` },
            PI: { name: "Piau√≠", color: "#F39C12", foods: ["P√© de moleque", "Bolo", "Cuscuz", "Carne"], vocabulary: ["Vixe!", "Eita!", "Oxente!", "Nego!"], svg: `<path d="M25,25 L100,30 L115,50 L120,85 L105,115 L55,120 L15,110 L5,75 L12,35 Z" fill="#F39C12" stroke="#D68910" stroke-width="2"/>` },
            RJ: { name: "Rio de Janeiro", color: "#9B59B6", foods: ["Feijoada", "Churrasco", "Caipirinha", "Mortadela"], vocabulary: ["Eita!", "Vish!", "Nossa!", "Poxa!"], svg: `<path d="M35,35 L85,30 L105,50 L105,85 L90,105 L60,115 L30,115 L15,95 L15,65 L28,45 Z" fill="#9B59B6" stroke="#8E44AD" stroke-width="2"/>` },
            RN: { name: "Rio Grande do Norte", color: "#E91E63", foods: ["Bai√£o", "Carne", "Rapadura", "Cuscuz"], vocabulary: ["Oxente!", "Eita!", "Vixe!", "Nego!"], svg: `<path d="M30,30 L95,30 L110,50 L115,80 L105,110 L70,120 L35,120 L15,100 L15,65 L25,40 Z" fill="#E91E63" stroke="#C2185B" stroke-width="2"/>` },
            RS: { name: "Rio Grande do Sul", color: "#1ABC9C", foods: ["Churrasco", "Canjica", "Quent√£o", "Sopa"], vocabulary: ["Eita!", "Vixe!", "Poxa!", "S√¥!"], svg: `<path d="M20,30 L105,30 L120,55 L120,100 L95,120 L45,125 L5,110 L0,70 L8,40 Z" fill="#1ABC9C" stroke="#16A085" stroke-width="2"/>` },
            RO: { name: "Rond√¥nia", color: "#2C3E50", foods: ["Pequi", "Peixe", "Frango", "Goiabada"], vocabulary: ["Eita!", "Vixe!", "Uai!", "Maneiro!"], svg: `<path d="M30,35 L90,30 L105,50 L105,85 L85,110 L55,115 L25,105 L20,80 L25,50 Z" fill="#2C3E50" stroke="#1A252F" stroke-width="2"/>` },
            RR: { name: "Roraima", color: "#00BCD4", foods: ["Peixe", "Tapioca", "Frango", "A√ßa√≠"], vocabulary: ["Eita!", "Vixe!", "Ui!", "Maneiro!"], svg: `<polygon points="60,15 100,40 100,95 60,115 20,95 20,40" fill="#00BCD4" stroke="#0097A7" stroke-width="2"/>` },
            SC: { name: "Santa Catarina", color: "#3498DB", foods: ["Cascadei", "Cuca", "Churrasco", "Salgado"], vocabulary: ["Eita!", "Vixe!", "Poxa!", "Nossa!"], svg: `<path d="M30,30 L95,35 L110,55 L110,95 L85,115 L50,120 L20,110 L12,80 L20,50 Z" fill="#3498DB" stroke="#2980B9" stroke-width="2"/>` },
            SP: { name: "S√£o Paulo", color: "#F1C40F", foods: ["Feijoada", "P√£o de queijo", "Brigadeiro", "Mortadela"], vocabulary: ["Eita!", "Vish!", "Poxa!", "Nossa!"], svg: `<path d="M28,30 L100,30 L115,55 L115,95 L90,115 L48,120 L15,110 L8,75 L18,40 Z" fill="#F1C40F" stroke="#D4AC0D" stroke-width="2"/>` },
            SE: { name: "Sergipe", color: "#E91E63", foods: ["Sururu", "Caranguejo", "Moqueca", "Doce"], vocabulary: ["Vixe!", "Eita!", "Nego", "Oxente!"], svg: `<path d="M30,45 L95,45 L110,65 L110,90 L95,110 L55,115 L30,105 L25,85 L30,60 Z" fill="#E91E63" stroke="#C2185B" stroke-width="2"/>` },
            TO: { name: "Tocantins", color: "#27AE60", foods: ["P√£o de queijo", "Pequi", "Frango", "Goiabada"], vocabulary: ["Uai!", "Eita!", "Vixe!", "S√¥!"], svg: `<path d="M20,25 L105,30 L120,55 L125,95 L105,120 L50,125 L10,110 L5,70 L12,30 Z" fill="#27AE60" stroke="#1E8449" stroke-width="2"/>` }
        };

        let brasigotchi = null;
        let gameLoop = null;

        function init() {
            render();
        }

        function createBrasigotchi() {
            const ufs = Object.keys(statesData);
            const randomUF = ufs[Math.floor(Math.random() * ufs.length)];
            const state = statesData[randomUF];

            brasigotchi = {
                uf: randomUF,
                name: state.name,
                color: state.color,
                foods: state.foods,
                vocabulary: state.vocabulary,
                svg: state.svg,
                hunger: 80,
                happiness: 80,
                energy: 80,
                age: 0,
                isSleeping: false,
                isAlive: true,
                birthTime: Date.now()
            };

            startGameLoop();
            render();
        }

        function startGameLoop() {
            if (gameLoop) clearInterval(gameLoop);
            
            gameLoop = setInterval(() => {
                if (brasigotchi && brasigotchi.isAlive) {
                    if (!brasigotchi.isSleeping) {
                        brasigotchi.hunger = Math.max(0, brasigotchi.hunger - 1);
                        brasigotchi.happiness = Math.max(0, brasigotchi.happiness - 0.5);
                        brasigotchi.energy = Math.max(0, brasigotchi.energy - 0.3);
                    } else {
                        brasigotchi.energy = Math.min(100, brasigotchi.energy + 5);
                    }

                    const elapsed = Date.now() - brasigotchi.birthTime;
                    brasigotchi.age = Math.floor(elapsed / 60000);

                    if (brasigotchi.hunger === 0 || brasigotchi.happiness === 0 || brasigotchi.energy === 0) {
                        brasigotchi.isAlive = false;
                        clearInterval(gameLoop);
                    }

                    render();
                }
            }, 5000);
        }

        function feed(food) {
            if (!brasigotchi || !brasigotchi.isAlive || brasigotchi.isSleeping) return;

            const vocab = brasigotchi.vocabulary;
            const randomVocab = vocab[Math.floor(Math.random() * vocab.length)];

            brasigotchi.hunger = Math.min(100, brasigotchi.hunger + 25);
            brasigotchi.energy = Math.max(0, brasigotchi.energy - 5);

            hideFoodMenu();
            render(`√ëam √±am! ${randomVocab}`);
        }

        function play() {
            if (!brasigotchi || !brasigotchi.isAlive || brasigotchi.isSleeping) return;

            const vocab = brasigotchi.vocabulary;
            const randomVocab = vocab[Math.floor(Math.random() * vocab.length)];

            brasigotchi.happiness = Math.min(100, brasigotchi.happiness + 20);
            brasigotchi.energy = Math.max(0, brasigotchi.energy - 10);

            render(`Eba! ${randomVocab}`);
        }

        function toggleSleep() {
            if (!brasigotchi || !brasigotchi.isAlive) return;

            brasigotchi.isSleeping = !brasigotchi.isSleeping;
            render(brasigotchi.isSleeping ? "ZzZzZz..." : "Bom dia!");
        }

        function showFoodMenu() {
            if (!brasigotchi || !brasigotchi.isAlive || brasigotchi.isSleeping) return;

            const foodList = document.getElementById('foodList');
            foodList.innerHTML = '';
            
            brasigotchi.foods.forEach(food => {
                const btn = document.createElement('button');
                btn.className = 'food-item';
                btn.textContent = food;
                btn.onclick = () => feed(food);
                foodList.appendChild(btn);
            });

            document.getElementById('foodOverlay').classList.add('show');
        }

        function hideFoodMenu() {
            document.getElementById('foodOverlay').classList.remove('show');
        }

        function getMouthClass() {
            if (!brasigotchi.isAlive) return 'sad';
            if (brasigotchi.isSleeping) return 'open';
            if (brasigotchi.happiness > 70) return 'happy';
            if (brasigotchi.happiness < 30 || brasigotchi.hunger < 30) return 'sad';
            return 'neutral';
        }

        function render(message = "") {
            const screen = document.getElementById('screen');

            if (!brasigotchi) {
                screen.innerHTML = `
                    <div class="no-brasigotchi">
                        <h2>SEM MASCOTE</h2>
                        <p>Crie seu Brasigotchi!</p>
                        <button class="create-btn" onclick="createBrasigotchi()">CRIAR</button>
                    </div>
                `;
                return;
            }

            const vocab = brasigotchi.vocabulary;
            const defaultMessage = brasigotchi.isAlive 
                ? `${vocab[Math.floor(Math.random() * vocab.length)]} Oi!`
                : "Fim de jogo...";

            const mouthClass = getMouthClass();

            screen.innerHTML = `
                <div class="state-info">
                    <div class="state-name">${brasigotchi.name}</div>
                    <div class="state-uf">${brasigotchi.uf}</div>
                    <div class="age">${brasigotchi.age}m</div>
                </div>

                <div class="brasigotchi-character">
                    <div class="character-container ${brasigotchi.isSleeping ? 'sleeping' : ''}">
                        <svg class="state-shape" viewBox="0 0 130 140">
                            ${brasigotchi.svg}
                        </svg>
                        <div class="eyes">
                            <div class="eye"></div>
                            <div class="eye"></div>
                        </div>
                        <div class="mouth ${mouthClass}"></div>
                        <div class="cheeks">
                            <div class="cheek"></div>
                            <div class="cheek"></div>
                        </div>
                    </div>
                </div>

                <div class="speech-bubble">
                    ${message || defaultMessage}
                </div>

                <div class="stats-container">
                    <div class="stat">
                        <span class="stat-icon">üçñ</span>
                        <div class="stat-bar">
                            <div class="stat-fill hunger" style="width: ${brasigotchi.hunger}%"></div>
                        </div>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">üòä</span>
                        <div class="stat-bar">
                            <div class="stat-fill happiness" style="width: ${brasigotchi.happiness}%"></div>
                        </div>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">‚ö°</span>
                        <div class="stat-bar">
                            <div class="stat-fill energy" style="width: ${brasigotchi.energy}%"></div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Fechar menu ao clicar fora
        document.getElementById('foodOverlay').addEventListener('click', function(e) {
            if (e.target === this) hideFoodMenu();
        });

        init();
    </script>
</body>
</html>
